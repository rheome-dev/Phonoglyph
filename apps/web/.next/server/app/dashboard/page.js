(()=>{var e={};e.id=702,e.ids=[702],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},2122:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>c}),t(4257),t(8532),t(146);var r=t(4053),a=t(1919),n=t(9335),l=t.n(n),i=t(4173),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4257)),"/Users/jasperhall/Desktop/Phonoglyph/apps/web/src/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,8532)),"/Users/jasperhall/Desktop/Phonoglyph/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,146,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/jasperhall/Desktop/Phonoglyph/apps/web/src/app/dashboard/page.tsx"],x="/dashboard/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6870:(e,s,t)=>{Promise.resolve().then(t.bind(t,9771))},9771:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var r=t(3972),a=t(3250);t(9577);var n=t(5386),l=t(1758),i=t(451),o=t(7041),c=t(1330),d=t(9713),x=t(7236),u=t(7697),m=t(6929),p=t(5705),h=t(3356),f=t(954),j=t(4564);let g=a.forwardRef(({user:e},s)=>{let[t,n]=a.useState(!1),[g,b]=a.useState(""),{toast:y}=(0,m.pm)(),v=(0,h.useRouter)(),[N,w]=a.useState(null),[D,P]=a.useState(!1),{data:C=[],isLoading:k,refetch:S}=u.S.project.list.useQuery(),E=!!g?.trim(),{data:_,isLoading:T}=u.S.project.search.useQuery({query:g?.trim()||"",sort_by:"updated_at",sort_order:"desc"},{enabled:E}),A=E?_||[]:C;console.log("\uD83D\uDD0D ProjectDashboard State:",{searchQuery:`"${g}"`,hasSearchCriteria:E,isLoading:k,isSearching:T,projectsLength:C?.length,searchResultsLength:_?.length,displayProjectsLength:A?.length});let q=e=>{v.push(`/creative-visualizer?projectId=${e}`)},R=()=>{n(!0)},z=u.S.project.delete.useMutation({onSuccess:()=>{y({title:"Project deleted",description:"The project was deleted."}),w(null),S()},onError:e=>{y({title:"Delete failed",description:e.message,variant:"destructive"}),w(null)},onSettled:()=>P(!1)}),O=e=>{P(!0),z.mutate({id:e})};return(0,r.jsxs)("div",{ref:s,className:"min-h-screen bg-gradient-to-br from-stone-50 to-stone-100",children:[(0,r.jsxs)("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:[r.jsx(l.E.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl lg:text-4xl font-display font-bold text-stone-800",children:"PROJECTS"}),(0,r.jsxs)("p",{className:"text-lg font-mono text-stone-600",children:["Welcome back, ",e?.user_metadata?.name||e?.email]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(c.E,{status:"live",children:"SYSTEM ONLINE"}),r.jsx(l.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(o.n,{variant:"primary",size:"lg",onClick:R,children:"+ Create New Project"})})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,r.jsxs)(l.E.aside,{className:"lg:col-span-1 space-y-6",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},children:[(0,r.jsxs)(i.W,{variant:"panel",className:"p-6",children:[r.jsx("h3",{className:"text-lg font-display font-bold text-stone-700 mb-4",children:"SEARCH & FILTER"}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-mono text-stone-600 mb-2",children:"SEARCH PROJECTS"}),r.jsx("input",{type:"text",placeholder:"Search by name...",value:g,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md text-stone-700 placeholder:text-stone-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),g&&r.jsx(o.n,{variant:"secondary",size:"sm",className:"w-full",onClick:()=>{b("")},children:"Clear Filters"})]}),(0,r.jsxs)(i.W,{variant:"panel",className:"p-6",children:[r.jsx("h3",{className:"text-lg font-display font-bold text-stone-700 mb-4",children:"STATS"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm font-mono text-stone-600",children:"TOTAL PROJECTS"}),r.jsx("span",{className:"text-sm font-mono font-bold text-stone-700",children:C.length})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm font-mono text-stone-600",children:"ACTIVE"}),r.jsx("span",{className:"text-sm font-mono font-bold text-green-600",children:C.length})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm font-mono text-stone-600",children:"LAST UPDATED"}),r.jsx("span",{className:"text-xs font-mono text-stone-500",children:C[0]?.updated_at?new Date(C[0].updated_at).toLocaleDateString():"N/A"})]})]})]})]}),r.jsx(l.E.main,{className:"lg:col-span-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:r.jsx(i.W,{className:"p-8 min-h-[600px]",children:k||E&&T?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[r.jsx(d.T,{size:"lg",className:"mb-4"}),r.jsx("p",{className:"text-lg font-mono text-stone-600",children:E&&T?"SEARCHING PROJECTS...":"LOADING PROJECTS..."})]}):A.length>0?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-display font-bold text-stone-700",children:g?"Search Results":"Your Projects"}),(0,r.jsxs)(c.E,{status:"completed",children:[A.length," PROJECT",1!==A.length?"S":""]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:A.map((e,s)=>r.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1*s},whileHover:{y:-4},className:"cursor-pointer",onClick:()=>q(e.id),children:(0,r.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm border border-white/20 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 relative group",children:[r.jsx("div",{className:"w-full h-32 bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg mb-4 flex items-center justify-center",children:e.thumbnail_url?r.jsx("img",{src:e.thumbnail_url,alt:e.name,className:"w-full h-full object-cover rounded-lg"}):r.jsx("div",{className:"text-4xl",children:"\uD83C\uDFB5"})}),(0,r.jsxs)("div",{className:"space-y-2 pb-8",children:[r.jsx("h3",{className:"font-display font-bold text-stone-800 truncate",children:e.name}),e.description&&r.jsx("p",{className:"text-sm text-stone-600 line-clamp-2",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs font-mono text-stone-500 mb-1",children:[r.jsx("span",{children:new Date(e.updated_at).toLocaleDateString()}),(0,r.jsxs)("span",{children:[e.file_count||0," files"]})]}),r.jsx("span",{className:(0,p.cn)("px-2 py-1 rounded text-xs font-mono uppercase","private"===e.privacy_setting&&"bg-red-100 text-red-700","unlisted"===e.privacy_setting&&"bg-yellow-100 text-yellow-700","public"===e.privacy_setting&&"bg-green-100 text-green-700"),children:e.privacy_setting})]}),r.jsx("button",{onClick:s=>{s.stopPropagation(),w(e.id)},className:"absolute bottom-4 right-4 bg-white border border-stone-200 rounded-full p-2 shadow-md text-red-500 hover:text-white hover:bg-red-500 transition-opacity opacity-0 group-hover:opacity-100 focus:opacity-100 focus:outline-none",title:"Delete project",children:r.jsx(f.Z,{size:18})})]})},e.id))})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[r.jsx("div",{className:"text-6xl mb-6",children:"\uD83C\uDFBC"}),r.jsx("h2",{className:"text-2xl font-display font-bold text-stone-700 mb-4",children:g?"No Matching Projects":"No Projects Yet"}),r.jsx("p",{className:"text-lg font-mono text-stone-600 mb-6 max-w-md",children:g?"Try adjusting your search criteria or create a new project.":"Create your first music visualization project to get started."}),r.jsx(l.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(o.n,{variant:"primary",size:"lg",onClick:R,children:"Create First Project"})})]})})})]})]}),r.jsx(x.p,{isOpen:t,onClose:()=>n(!1)}),r.jsx(j.c,{isOpen:!!N,onClose:()=>w(null),onConfirm:()=>N&&O(N),title:"Delete Project?",description:"Are you sure you want to delete this project and all its files? This action cannot be undone.",confirmText:D?"Deleting...":"Delete",confirmVariant:"danger"})]})});function b(){let[e,s]=(0,a.useState)(null),[t,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)([]);return t?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-stone-50 to-stone-100 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx(d.T,{size:"lg",className:"mb-4"}),r.jsx("p",{className:"text-stone-600 font-mono",children:"LOADING DASHBOARD..."})]})}):e?(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.W,{user:e,currentPath:"/dashboard",recentProjects:i,showBreadcrumbs:!0}),r.jsx(g,{user:e})]}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-stone-50 to-stone-100 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-display font-bold text-stone-700 mb-4",children:"ACCESS DENIED"}),r.jsx("p",{className:"text-stone-600 font-mono mb-6",children:"Please sign in to access the dashboard"}),r.jsx("a",{href:"/login",className:"inline-block bg-stone-600 text-white px-6 py-3 rounded-md font-sans font-bold uppercase tracking-wider text-sm transition-colors hover:bg-stone-700",children:"Sign In"})]})})}g.displayName="ProjectDashboard"},5386:(e,s,t)=>{"use strict";t.d(s,{W:()=>p});var r=t(3972),a=t(3250),n=t(6357),l=t(1758),i=t(5705),o=t(7041),c=t(4827),d=t(3356);function x({items:e=[],className:s}){(0,d.useRouter)();let t=function(e){let s=e.split("/").filter(Boolean),t=[{label:"Home",href:"/",icon:"\uD83C\uDFE0"}],r="";for(let e=0;e<s.length;e++){r+=`/${s[e]}`;let a=s[e],n=a,l="";switch(a){case"dashboard":n="Dashboard",l="\uD83D\uDCCA";break;case"projects":if(e===s.length-1)n="Projects",l="\uD83D\uDCC1";else{let t=s[e+1];n=`Project ${t.slice(0,8)}`,l="\uD83C\uDFB5",r+=`/${t}`,e++}break;case"settings":n="Settings",l="⚙️";break;case"shared":n="Shared Project",l="\uD83D\uDD17";break;case"files":n="Files",l="\uD83D\uDCC4";break;case"upload-demo":n="Upload Demo",l="\uD83D\uDCE4";break;case"creative-visualizer":n="Visualizer",l="\uD83C\uDFA8";break;case"profile":n="Profile",l="\uD83D\uDC64";break;default:n=a.charAt(0).toUpperCase()+a.slice(1)}t.push({label:n,href:r,icon:l})}return t}((0,d.usePathname)()),a=e.length>0?e:t;return a.length<=1?null:(0,r.jsxs)("nav",{className:(0,i.cn)("flex items-center space-x-2 text-sm font-mono text-stone-600",s),"aria-label":"Breadcrumb",children:[a.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center",children:[s>0&&r.jsx("span",{className:"mx-2 text-stone-400",children:"/"}),s===a.length-1?(0,r.jsxs)("span",{className:"flex items-center text-stone-800 font-medium",children:[e.icon&&r.jsx("span",{className:"mr-1",children:e.icon}),e.label]}):(0,r.jsxs)(n.default,{href:e.href,className:"flex items-center text-stone-600 hover:text-stone-800 transition-colors",children:[e.icon&&r.jsx("span",{className:"mr-1",children:e.icon}),e.label]})]},e.href)),(0,r.jsxs)("div",{className:"ml-6 text-xs text-stone-400 hidden lg:block",children:[r.jsx("span",{className:"mr-3",children:"⌘B Dashboard"}),r.jsx("span",{children:"⌘H Home"})]})]})}function u({currentProject:e,recentProjects:s=[],onProjectSwitch:t,...a}){let n=(0,d.useRouter)(),l=e=>{t?t(e):n.push(`/projects/${e}`)};return(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(x,{...a}),e&&s.length>0&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-xs font-mono text-stone-500",children:"Quick Switch:"}),(0,r.jsxs)("select",{value:e.id,onChange:e=>l(e.target.value),className:"text-xs border border-stone-300 rounded px-2 py-1 bg-white text-stone-700 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[r.jsx("option",{value:e.id,children:e.name}),s.filter(s=>s.id!==e.id).slice(0,5).map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]})]})}var m=t(9972);let p=a.forwardRef(({user:e,currentPath:s,currentProject:t,recentProjects:a=[],showBreadcrumbs:d=!0},x)=>r.jsx(l.E.nav,{ref:x,className:"sticky top-0 z-40 w-full glass-strong border-b border-white/20",initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"easeOut"},children:(0,r.jsxs)("div",{className:"container mx-auto px-4 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[r.jsx(n.default,{href:"/",className:"flex items-center space-x-2",children:r.jsx(l.E.div,{className:"flex items-center",whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:r.jsx(m.S,{size:"md",className:"text-stone-700"})})}),r.jsx("div",{className:"hidden md:flex items-center space-x-8",children:[{href:"/",label:"Home"},{href:"/creative-visualizer",label:"Visualizer"},{href:"/files",label:"Files"},{href:"/dashboard",label:"Dashboard"}].map(e=>r.jsx(n.default,{href:e.href,className:(0,i.cn)("text-sm font-sans font-medium transition-colors duration-200",s===e.href?"text-stone-700 border-b-2 border-stone-600":"text-stone-600 hover:text-stone-700"),children:e.label},e.href))}),r.jsx("div",{className:"flex items-center space-x-4",children:e?r.jsx(c.D,{user:e}):(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(n.default,{href:"/login",children:r.jsx(o.n,{variant:"secondary",size:"sm",children:"Sign In"})}),r.jsx(n.default,{href:"/signup",children:r.jsx(o.n,{variant:"primary",size:"sm",children:"Sign Up"})})]})})]}),d&&r.jsx("div",{className:"border-t border-white/10 px-0 py-2",children:r.jsx(u,{currentProject:t,recentProjects:a,className:"text-xs"})})]})}));p.displayName="Navigation"},451:(e,s,t)=>{"use strict";t.d(s,{W:()=>l});var r=t(3972),a=t(3250),n=t(5705);let l=a.forwardRef(({className:e,variant:s="default",children:t,...a},l)=>r.jsx("div",{ref:l,className:(0,n.cn)({default:"glass",strong:"glass-strong",modal:"glass-modal",panel:"bg-stone-300/90 backdrop-blur-md border border-stone-400/30 rounded-xl shadow-glass"}[s],e),...a,children:t}));l.displayName="GlassCard"},1330:(e,s,t)=>{"use strict";t.d(s,{E:()=>l});var r=t(3972),a=t(3250),n=t(5705);let l=a.forwardRef(({status:e,children:s,className:t},a)=>(0,r.jsxs)("div",{ref:a,className:(0,n.cn)({live:"status-live",processing:"bg-amber-muted/80 text-amber-800 px-3 py-1 rounded-xl font-sans font-bold uppercase tracking-wider text-xs flex items-center gap-2",completed:"bg-sage-accent/80 text-white px-3 py-1 rounded-xl font-sans font-bold uppercase tracking-wider text-xs flex items-center gap-2",error:"bg-terracotta-accent/80 text-white px-3 py-1 rounded-xl font-sans font-bold uppercase tracking-wider text-xs flex items-center gap-2",warning:"bg-amber-muted/80 text-amber-800 px-3 py-1 rounded-xl font-sans font-bold uppercase tracking-wider text-xs flex items-center gap-2"}[e],t),children:["live"===e&&r.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"processing"===e&&r.jsx("div",{className:"w-2 h-2 bg-amber-800 rounded-full animate-pulse"}),"completed"===e&&r.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),"error"===e&&r.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),"warning"===e&&r.jsx("div",{className:"w-2 h-2 bg-amber-800 rounded-full"}),s]}));l.displayName="StatusIndicator"},4275:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(4785).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},74:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(4785).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},8471:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(4785).Z)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},4330:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(4785).Z)("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]])},6357:(e,s,t)=>{"use strict";t.d(s,{default:()=>a.a});var r=t(3169),a=t.n(r)},4257:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(7003).createProxy)(String.raw`/Users/jasperhall/Desktop/Phonoglyph/apps/web/src/app/dashboard/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[369,39,169,113,485,758,979,827,740],()=>t(2122));module.exports=r})();